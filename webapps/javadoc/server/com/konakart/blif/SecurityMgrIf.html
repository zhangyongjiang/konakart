<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Wed Aug 27 11:46:01 BST 2014 -->
<TITLE>
SecurityMgrIf (KonaKart Server Engine API Documentation)
</TITLE>

<META NAME="date" CONTENT="2014-08-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SecurityMgrIf (KonaKart Server Engine API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/konakart/blif/RewardPointMgrIf.html" title="interface in com.konakart.blif"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/konakart/blif/ShippingMgrIf.html" title="interface in com.konakart.blif"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/konakart/blif/SecurityMgrIf.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SecurityMgrIf.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.konakart.blif</FONT>
<BR>
Interface SecurityMgrIf</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../com/konakart/bl/SecurityMgr.html" title="class in com.konakart.bl">SecurityMgr</A>, <A HREF="../../../com/konakart/bl/SecurityMgrEE.html" title="class in com.konakart.bl">SecurityMgrEE</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>SecurityMgrIf</B></DL>
</PRE>

<P>
SecurityMgrIf
 
 Interface which an implementation of this manager must adhere to.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#addCustomDataToSession(java.lang.String, java.lang.String, int)">addCustomDataToSession</A></B>(java.lang.String&nbsp;sessionId,
                       java.lang.String&nbsp;data,
                       int&nbsp;position)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A sessionId is created when a customer logs in to KonaKart using the login() API call.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#changePassword(java.lang.String, java.lang.String, java.lang.String)">changePassword</A></B>(java.lang.String&nbsp;sessionId,
               java.lang.String&nbsp;currentPassword,
               java.lang.String&nbsp;newPassword)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The method ensures that the current password is correct, and then changes it with the new
 password.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#checkSession(java.lang.String)">checkSession</A></B>(java.lang.String&nbsp;sessionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The given sessionId is checked to see whether it exists and whether it is has timed out.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#enableCustomer(java.lang.String)">enableCustomer</A></B>(java.lang.String&nbsp;secretKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method retrieves the SSO token using the Secret Key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#encrypt(java.lang.String)">encrypt</A></B>(java.lang.String&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an encrypted password.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#getCustomDataFromSession(java.lang.String, int)">getCustomDataFromSession</A></B>(java.lang.String&nbsp;sessionId,
                         int&nbsp;position)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A sessionId is created when a customer logs in to KonaKart using the login() API call.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#getRandomPassword(int)">getRandomPassword</A></B>(int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If length == 0, the configuration value ENTRY_PASSWORD_MIN_LENGTH is used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/appif/SSOTokenIf.html" title="interface in com.konakart.appif">SSOTokenIf</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#getSSOToken(java.lang.String, boolean)">getSSOToken</A></B>(java.lang.String&nbsp;secretKey,
            boolean&nbsp;deleteToken)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an SSOToken object for the secretKey (UUID).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#getTimeInSecs()">getTimeInSecs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Utility method to return the current time in seconds</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#login(java.lang.String, java.lang.String)">login</A></B>(java.lang.String&nbsp;emailAddr,
      java.lang.String&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a session id if successful.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#loginByAdmin(java.lang.String, int)">loginByAdmin</A></B>(java.lang.String&nbsp;adminSession,
             int&nbsp;customerId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to log in to the application as a customer by an Administrator.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#logout(java.lang.String)">logout</A></B>(java.lang.String&nbsp;sessionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logout the user with the specified session Id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#saveSSOToken(com.konakart.appif.SSOTokenIf)">saveSSOToken</A></B>(<A HREF="../../../com/konakart/appif/SSOTokenIf.html" title="interface in com.konakart.appif">SSOTokenIf</A>&nbsp;token)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves the SSOToken in the database and returns a UUID secret key identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#sendNewPassword(java.lang.String, java.lang.String, java.lang.String)">sendNewPassword</A></B>(java.lang.String&nbsp;emailAddr,
                java.lang.String&nbsp;subject,
                java.lang.String&nbsp;countryCode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I></I>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/appif/EmailIf.html" title="interface in com.konakart.appif">EmailIf</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#sendNewPassword1(java.lang.String, com.konakart.appif.EmailOptionsIf)">sendNewPassword1</A></B>(java.lang.String&nbsp;emailAddr,
                 <A HREF="../../../com/konakart/appif/EmailOptionsIf.html" title="interface in com.konakart.appif">EmailOptionsIf</A>&nbsp;options)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If a customer exists with the email address passed in as a parameter, then a new password is
 generated and sent to the customer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/SecurityMgrIf.html#validatePassword(java.lang.String, java.lang.String)">validatePassword</A></B>(java.lang.String&nbsp;sessionId,
                 java.lang.String&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method validates the password of a logged in customer and can be used to force the
 customer to enter his password before allowing certain actions like the modification of the
 customer's email address.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="login(java.lang.String, java.lang.String)"><!-- --></A><H3>
login</H3>
<PRE>
java.lang.String <B>login</B>(java.lang.String&nbsp;emailAddr,
                       java.lang.String&nbsp;password)
                       throws java.lang.Exception</PRE>
<DL>
<DD>Returns a session id if successful. Otherwise returns null.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>emailAddr</CODE> - <DD><CODE>password</CODE> - 
<DT><B>Returns:</B><DD>SessionId if OK. Otherwise null.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="logout(java.lang.String)"><!-- --></A><H3>
logout</H3>
<PRE>
void <B>logout</B>(java.lang.String&nbsp;sessionId)
            throws org.apache.torque.TorqueException,
                   com.workingdogs.village.DataSetException,
                   <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>Logout the user with the specified session Id. First we check that the sessionId is valid.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>com.workingdogs.village.DataSetException</CODE>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTimeInSecs()"><!-- --></A><H3>
getTimeInSecs</H3>
<PRE>
int <B>getTimeInSecs</B>()</PRE>
<DL>
<DD>Utility method to return the current time in seconds
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the time</DL>
</DD>
</DL>
<HR>

<A NAME="checkSession(java.lang.String)"><!-- --></A><H3>
checkSession</H3>
<PRE>
int <B>checkSession</B>(java.lang.String&nbsp;sessionId)
                 throws org.apache.torque.TorqueException,
                        com.workingdogs.village.DataSetException,
                        <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>The given sessionId is checked to see whether it exists and whether it is has timed out. If
 it is valid, the expiry attribute is updated.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - 
<DT><B>Returns:</B><DD>Returns customerId
<DT><B>Throws:</B>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE>com.workingdogs.village.DataSetException</CODE>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="encrypt(java.lang.String)"><!-- --></A><H3>
encrypt</H3>
<PRE>
java.lang.String <B>encrypt</B>(java.lang.String&nbsp;password)
                         throws java.security.NoSuchAlgorithmException</PRE>
<DL>
<DD>Returns an encrypted password.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>password</CODE> - 
<DT><B>Returns:</B><DD>Returns an encrypted password
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="changePassword(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
changePassword</H3>
<PRE>
void <B>changePassword</B>(java.lang.String&nbsp;sessionId,
                    java.lang.String&nbsp;currentPassword,
                    java.lang.String&nbsp;newPassword)
                    throws java.lang.Exception</PRE>
<DL>
<DD>The method ensures that the current password is correct, and then changes it with the new
 password. It allows any password length and relies on the application to ensure that a
 minimum length is guaranteed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - <DD><CODE>currentPassword</CODE> - <DD><CODE>newPassword</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getRandomPassword(int)"><!-- --></A><H3>
getRandomPassword</H3>
<PRE>
java.lang.String <B>getRandomPassword</B>(int&nbsp;length)
                                   throws java.lang.Exception</PRE>
<DL>
<DD>If length == 0, the configuration value ENTRY_PASSWORD_MIN_LENGTH is used.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>length</CODE> - 
<DT><B>Returns:</B><DD>Returns a random password
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendNewPassword(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
sendNewPassword</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>void <B>sendNewPassword</B>(java.lang.String&nbsp;emailAddr,
                                java.lang.String&nbsp;subject,
                                java.lang.String&nbsp;countryCode)
                     throws java.security.NoSuchAlgorithmException,
                            java.lang.Exception</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I></I>
<P>
<DD>If a customer exists with the email address passed in as a parameter, then a new password is
 generated and sent to the customer.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>emailAddr</CODE> - <DD><CODE>subject</CODE> - <DD><CODE>countryCode</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendNewPassword1(java.lang.String, com.konakart.appif.EmailOptionsIf)"><!-- --></A><H3>
sendNewPassword1</H3>
<PRE>
<A HREF="../../../com/konakart/appif/EmailIf.html" title="interface in com.konakart.appif">EmailIf</A> <B>sendNewPassword1</B>(java.lang.String&nbsp;emailAddr,
                         <A HREF="../../../com/konakart/appif/EmailOptionsIf.html" title="interface in com.konakart.appif">EmailOptionsIf</A>&nbsp;options)
                         throws java.security.NoSuchAlgorithmException,
                                java.lang.Exception</PRE>
<DL>
<DD>If a customer exists with the email address passed in as a parameter, then a new password is
 generated and sent to the customer.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>emailAddr</CODE> - <DD><CODE>options</CODE> - 
<DT><B>Returns:</B><DD>An Email object
<DT><B>Throws:</B>
<DD><CODE>java.security.NoSuchAlgorithmException</CODE>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loginByAdmin(java.lang.String, int)"><!-- --></A><H3>
loginByAdmin</H3>
<PRE>
java.lang.String <B>loginByAdmin</B>(java.lang.String&nbsp;adminSession,
                              int&nbsp;customerId)
                              throws java.lang.Exception</PRE>
<DL>
<DD>Used to log in to the application as a customer by an Administrator. This is useful for Call
 Center type applications where the Call Center person can log into the application as the
 customer without requiring the customer's credentials, in order to perform some action on
 behalf of the customer.
 
 The adminSession must contain the session of a logged in Administrator User. The customerId
 must contain the Id of the customer to login as.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>adminSession</CODE> - The session of a logged in administrator user<DD><CODE>customerId</CODE> - The id of the customer to login as
<DT><B>Returns:</B><DD>Returns the sessionId for the customer's session
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addCustomDataToSession(java.lang.String, java.lang.String, int)"><!-- --></A><H3>
addCustomDataToSession</H3>
<PRE>
void <B>addCustomDataToSession</B>(java.lang.String&nbsp;sessionId,
                            java.lang.String&nbsp;data,
                            int&nbsp;position)
                            throws org.apache.torque.TorqueException,
                                   <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>A sessionId is created when a customer logs in to KonaKart using the login() API call. This
 sessionId is persisted in the database in a table which has 5 custom fields. This method
 allows you to store data in these custom fields which can later be retrieved by using the
 sessionId as the key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - The sessionId<DD><CODE>data</CODE> - The data to be saved<DD><CODE>position</CODE> - This must be in the range of 1-5 to identify custom1 to custom5
<DT><B>Throws:</B>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCustomDataFromSession(java.lang.String, int)"><!-- --></A><H3>
getCustomDataFromSession</H3>
<PRE>
java.lang.String <B>getCustomDataFromSession</B>(java.lang.String&nbsp;sessionId,
                                          int&nbsp;position)
                                          throws <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A>,
                                                 org.apache.torque.TorqueException,
                                                 com.workingdogs.village.DataSetException</PRE>
<DL>
<DD>A sessionId is created when a customer logs in to KonaKart using the login() API call. This
 sessionId is persisted in the database in a table which has 5 custom fields. This method
 allows you to retrieve the data in these custom fields by passing the sessionId as the key
 and a pointer to identify the custom field to be used.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - The sessionId<DD><CODE>position</CODE> - This must be in the range of 1-5 to identify custom1 to custom5
<DT><B>Returns:</B><DD>Returns the custom data
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE>com.workingdogs.village.DataSetException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="saveSSOToken(com.konakart.appif.SSOTokenIf)"><!-- --></A><H3>
saveSSOToken</H3>
<PRE>
java.lang.String <B>saveSSOToken</B>(<A HREF="../../../com/konakart/appif/SSOTokenIf.html" title="interface in com.konakart.appif">SSOTokenIf</A>&nbsp;token)
                              throws java.lang.Exception</PRE>
<DL>
<DD>Saves the SSOToken in the database and returns a UUID secret key identifier.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - The SSO token to be saved
<DT><B>Returns:</B><DD>Returns a UUID secret key identifier for the token
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSSOToken(java.lang.String, boolean)"><!-- --></A><H3>
getSSOToken</H3>
<PRE>
<A HREF="../../../com/konakart/appif/SSOTokenIf.html" title="interface in com.konakart.appif">SSOTokenIf</A> <B>getSSOToken</B>(java.lang.String&nbsp;secretKey,
                       boolean&nbsp;deleteToken)
                       throws org.apache.torque.TorqueException,
                              com.workingdogs.village.DataSetException</PRE>
<DL>
<DD>Returns an SSOToken object for the secretKey (UUID). Null is returned if no token is found.
 If the <code>deleteToken</code> parameter is set to true, the token is deleted from the
 database after having been read.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>secretKey</CODE> - The UUID secretKey used to identify the token<DD><CODE>deleteToken</CODE> - The token is deleted from the database after being read
<DT><B>Returns:</B><DD>Returns an SSOToken
<DT><B>Throws:</B>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE>com.workingdogs.village.DataSetException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="enableCustomer(java.lang.String)"><!-- --></A><H3>
enableCustomer</H3>
<PRE>
void <B>enableCustomer</B>(java.lang.String&nbsp;secretKey)
                    throws java.lang.Exception</PRE>
<DL>
<DD>This method retrieves the SSO token using the Secret Key. Once read, the token is deleted.
 The customer id read from the token is used to identify and enable the customer. An exception
 is thrown if a customer doesn't exist for the customer id found in the token.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>secretKey</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="validatePassword(java.lang.String, java.lang.String)"><!-- --></A><H3>
validatePassword</H3>
<PRE>
boolean <B>validatePassword</B>(java.lang.String&nbsp;sessionId,
                         java.lang.String&nbsp;password)
                         throws java.lang.Exception</PRE>
<DL>
<DD>This method validates the password of a logged in customer and can be used to force the
 customer to enter his password before allowing certain actions like the modification of the
 customer's email address.
 <p>
 The method returns true if the password validates against the session. If either the session
 is invalid or the password and session don't match, then the method returns false.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - <DD><CODE>password</CODE> - 
<DT><B>Returns:</B><DD>Returns true if the password validates
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/konakart/blif/RewardPointMgrIf.html" title="interface in com.konakart.blif"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/konakart/blif/ShippingMgrIf.html" title="interface in com.konakart.blif"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/konakart/blif/SecurityMgrIf.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SecurityMgrIf.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2011 DS Data Systems UK Ltd.
</BODY>
</HTML>
