<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Wed Aug 27 11:46:01 BST 2014 -->
<TITLE>
PaymentMgrIf (KonaKart Server Engine API Documentation)
</TITLE>

<META NAME="date" CONTENT="2014-08-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PaymentMgrIf (KonaKart Server Engine API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/konakart/blif/OrderTotalMgrIf.html" title="interface in com.konakart.blif"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/konakart/blif/ProductMgrIf.html" title="interface in com.konakart.blif"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/konakart/blif/PaymentMgrIf.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PaymentMgrIf.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.konakart.blif</FONT>
<BR>
Interface PaymentMgrIf</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../com/konakart/bl/modules/payment/PaymentMgr.html" title="class in com.konakart.bl.modules.payment">PaymentMgr</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>PaymentMgrIf</B></DL>
</PRE>

<P>
PaymentMgrIf
 
 Interface which an implementation of this manager must adhere to.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/PaymentMgrIf.html#getPaymentDetails(java.lang.String, java.lang.String, int, java.lang.String, int)">getPaymentDetails</A></B>(java.lang.String&nbsp;sessionId,
                  java.lang.String&nbsp;moduleCode,
                  int&nbsp;orderId,
                  java.lang.String&nbsp;hostAndPort,
                  int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called once a payment gateway has been selected and an order has been saved in
 the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/PaymentMgrIf.html#getPaymentDetailsCustom(java.lang.String, java.lang.String, com.konakart.appif.NameValueIf[])">getPaymentDetailsCustom</A></B>(java.lang.String&nbsp;sessionId,
                        java.lang.String&nbsp;moduleCode,
                        <A HREF="../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</A>[]&nbsp;parameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method used to return any custom information required from the payment module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/PaymentMgrIf.html#getPaymentDetailsPerOrder(java.lang.String, java.lang.String, com.konakart.appif.OrderIf, java.lang.String, int)">getPaymentDetailsPerOrder</A></B>(java.lang.String&nbsp;sessionId,
                          java.lang.String&nbsp;moduleCode,
                          <A HREF="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</A>&nbsp;order,
                          java.lang.String&nbsp;hostAndPort,
                          int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called once a payment gateway has been selected even if the order has not been
 saved in the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/PaymentMgrIf.html#getPaymentGateway(com.konakart.appif.OrderIf, java.lang.String, int)">getPaymentGateway</A></B>(<A HREF="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</A>&nbsp;order,
                  java.lang.String&nbsp;moduleName,
                  int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the PaymentDetail object for one payment gateway.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/PaymentMgrIf.html#getPaymentGateways(com.konakart.appif.OrderIf, int)">getPaymentGateways</A></B>(<A HREF="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</A>&nbsp;order,
                   int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Each payment module is called and asked to return a PaymentDetails object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/blif/PaymentMgrIf.html#refreshConfigs()">refreshConfigs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Refreshes the configuration data for this manager</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="refreshConfigs()"><!-- --></A><H3>
refreshConfigs</H3>
<PRE>
void <B>refreshConfigs</B>()
                    throws java.lang.Exception</PRE>
<DL>
<DD>Refreshes the configuration data for this manager
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPaymentGateways(com.konakart.appif.OrderIf, int)"><!-- --></A><H3>
getPaymentGateways</H3>
<PRE>
<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A>[] <B>getPaymentGateways</B>(<A HREF="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</A>&nbsp;order,
                                    int&nbsp;languageId)
                                    throws java.lang.Exception</PRE>
<DL>
<DD>Each payment module is called and asked to return a PaymentDetails object. This method is
 called during the checkout process before the order has been saved and confirmed by the user.
 Therefore it does not compile the exact details for the payment (i.e. the parameters passed
 to a payment gateway) since this will be done later for the selected payment module. The
 returned PaymentDetails object contains the information required for the user to select it
 and based on the zone of the billing address the module may decide that it cannot process
 payment for that zone and so not even return a PaymentDetails object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>order</CODE> - <DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>Returns an array of PaymentDetail objects
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPaymentGateway(com.konakart.appif.OrderIf, java.lang.String, int)"><!-- --></A><H3>
getPaymentGateway</H3>
<PRE>
<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A> <B>getPaymentGateway</B>(<A HREF="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</A>&nbsp;order,
                                 java.lang.String&nbsp;moduleName,
                                 int&nbsp;languageId)
                                 throws java.lang.Exception</PRE>
<DL>
<DD>Return the PaymentDetail object for one payment gateway.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>order</CODE> - <DD><CODE>moduleName</CODE> - can be module name on its own or it can be "moduleName~~moduleSubCode" if the
            module has a subCode<DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>Returns a PaymentDetails object
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPaymentDetails(java.lang.String, java.lang.String, int, java.lang.String, int)"><!-- --></A><H3>
getPaymentDetails</H3>
<PRE>
<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A> <B>getPaymentDetails</B>(java.lang.String&nbsp;sessionId,
                                 java.lang.String&nbsp;moduleCode,
                                 int&nbsp;orderId,
                                 java.lang.String&nbsp;hostAndPort,
                                 int&nbsp;languageId)
                                 throws java.lang.Exception</PRE>
<DL>
<DD>This method is called once a payment gateway has been selected and an order has been saved in
 the database. The order is read from the database and the details of the payment are
 retrieved from the order. This ensures that the payment request matches the order exactly.
 
 The module matching the module code is called in order to get a fully populated
 PaymentDetails object containing all of the required parameters etc. for the payment gateway.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - <DD><CODE>moduleCode</CODE> - <DD><CODE>orderId</CODE> - <DD><CODE>hostAndPort</CODE> - <DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>Returns a PaymentDetails object
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPaymentDetailsPerOrder(java.lang.String, java.lang.String, com.konakart.appif.OrderIf, java.lang.String, int)"><!-- --></A><H3>
getPaymentDetailsPerOrder</H3>
<PRE>
<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A> <B>getPaymentDetailsPerOrder</B>(java.lang.String&nbsp;sessionId,
                                         java.lang.String&nbsp;moduleCode,
                                         <A HREF="../../../com/konakart/appif/OrderIf.html" title="interface in com.konakart.appif">OrderIf</A>&nbsp;order,
                                         java.lang.String&nbsp;hostAndPort,
                                         int&nbsp;languageId)
                                         throws java.lang.Exception</PRE>
<DL>
<DD>This method is called once a payment gateway has been selected even if the order has not been
 saved in the database. The details of the payment are retrieved from the order.
 
 The module matching the module code is called in order to get a fully populated
 PaymentDetails object containing all of the required parameters etc. for the payment gateway.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - <DD><CODE>moduleCode</CODE> - <DD><CODE>order</CODE> - <DD><CODE>hostAndPort</CODE> - <DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>Returns a PaymentDetails object
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPaymentDetailsCustom(java.lang.String, java.lang.String, com.konakart.appif.NameValueIf[])"><!-- --></A><H3>
getPaymentDetailsCustom</H3>
<PRE>
<A HREF="../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A> <B>getPaymentDetailsCustom</B>(java.lang.String&nbsp;sessionId,
                                       java.lang.String&nbsp;moduleCode,
                                       <A HREF="../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</A>[]&nbsp;parameters)
                                       throws java.lang.Exception</PRE>
<DL>
<DD>Method used to return any custom information required from the payment module.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - <DD><CODE>moduleCode</CODE> - <DD><CODE>parameters</CODE> - 
<DT><B>Returns:</B><DD>Returns a PaymentDetails object
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/konakart/blif/OrderTotalMgrIf.html" title="interface in com.konakart.blif"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/konakart/blif/ProductMgrIf.html" title="interface in com.konakart.blif"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/konakart/blif/PaymentMgrIf.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PaymentMgrIf.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2011 DS Data Systems UK Ltd.
</BODY>
</HTML>
