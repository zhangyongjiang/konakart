<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Wed Aug 27 11:45:58 BST 2014 -->
<TITLE>
BasePaymentModule (KonaKart Server Engine API Documentation)
</TITLE>

<META NAME="date" CONTENT="2014-08-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BasePaymentModule (KonaKart Server Engine API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/konakart/bl/modules/payment/PaymentInfo.html" title="class in com.konakart.bl.modules.payment"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/konakart/bl/modules/payment/BasePaymentModule.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BasePaymentModule.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.konakart.bl.modules.payment</FONT>
<BR>
Class BasePaymentModule</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../../com/konakart/bl/modules/BaseModule.html" title="class in com.konakart.bl.modules">com.konakart.bl.modules.BaseModule</A>
      <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>com.konakart.bl.modules.payment.BasePaymentModule</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../../com/konakart/bl/modules/payment/authorizenet/Authorizenet.html" title="class in com.konakart.bl.modules.payment.authorizenet">Authorizenet</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/barclaycardsmartpayapi/BarclaycardSmartPayApi.html" title="class in com.konakart.bl.modules.payment.barclaycardsmartpayapi">BarclaycardSmartPayApi</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/barclaycardsmartpayhosted/BarclaycardSmartPayHosted.html" title="class in com.konakart.bl.modules.payment.barclaycardsmartpayhosted">BarclaycardSmartPayHosted</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/bluepay/Bluepay.html" title="class in com.konakart.bl.modules.payment.bluepay">Bluepay</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/caledon/Caledon.html" title="class in com.konakart.bl.modules.payment.caledon">Caledon</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/chronopay/Chronopay.html" title="class in com.konakart.bl.modules.payment.chronopay">Chronopay</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/cod/Cod.html" title="class in com.konakart.bl.modules.payment.cod">Cod</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/commideavanguard/CommideaVanguard.html" title="class in com.konakart.bl.modules.payment.commideavanguard">CommideaVanguard</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/cybersource/CyberSource.html" title="class in com.konakart.bl.modules.payment.cybersource">CyberSource</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/cybersourcehop/CyberSourceHOP.html" title="class in com.konakart.bl.modules.payment.cybersourcehop">CyberSourceHOP</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/elink/Elink.html" title="class in com.konakart.bl.modules.payment.elink">Elink</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/eway_au/Eway_au.html" title="class in com.konakart.bl.modules.payment.eway_au">Eway_au</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/globalcollect/GlobalCollect.html" title="class in com.konakart.bl.modules.payment.globalcollect">GlobalCollect</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/moneybookers/MoneyBookers.html" title="class in com.konakart.bl.modules.payment.moneybookers">MoneyBookers</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/netpayintl/Netpayintl.html" title="class in com.konakart.bl.modules.payment.netpayintl">Netpayintl</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/payflowpro/PayflowPro.html" title="class in com.konakart.bl.modules.payment.payflowpro">PayflowPro</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/payjunction/Payjunction.html" title="class in com.konakart.bl.modules.payment.payjunction">Payjunction</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/paypal/Paypal.html" title="class in com.konakart.bl.modules.payment.paypal">Paypal</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/usaepay/Usaepay.html" title="class in com.konakart.bl.modules.payment.usaepay">Usaepay</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/worldpay/Worldpay.html" title="class in com.konakart.bl.modules.payment.worldpay">Worldpay</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/worldpayxmlredirect/WorldPayXMLRedirect.html" title="class in com.konakart.bl.modules.payment.worldpayxmlredirect">WorldPayXMLRedirect</A>, <A HREF="../../../../../com/konakart/bl/modules/payment/yourpay/Yourpay.html" title="class in com.konakart.bl.modules.payment.yourpay">Yourpay</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>BasePaymentModule</B><DT>extends <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html" title="class in com.konakart.bl.modules">BaseModule</A></DL>
</PRE>

<P>
Base class for Payment Modules.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.apache.commons.logging.Log</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#log">log</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <code>Log</code> instance for this application.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.konakart.bl.modules.BaseModule"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class com.konakart.bl.modules.<A HREF="../../../../../com/konakart/bl/modules/BaseModule.html" title="class in com.konakart.bl.modules">BaseModule</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#basePackage">basePackage</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#BasePaymentModule()">BasePaymentModule</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#addParameters(com.konakart.appif.PaymentDetailsIf, java.util.List)">addParameters</A></B>(<A HREF="../../../../../com/konakart/appif/PaymentDetailsIf.html" title="interface in com.konakart.appif">PaymentDetailsIf</A>&nbsp;pd,
              java.util.List&lt;<A HREF="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</A>&gt;&nbsp;newParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add more parameters to the PaymentDetails object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#checkZone(com.konakart.bl.modules.payment.PaymentInfo, int)">checkZone</A></B>(<A HREF="../../../../../com/konakart/bl/modules/payment/PaymentInfo.html" title="class in com.konakart.bl.modules.payment">PaymentInfo</A>&nbsp;info,
          int&nbsp;geoZoneId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensures that the geoZoneId is within one of the Geo Zones contained in the PaymentInfo
 object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#getFirstAndLastNamesFromAddress(int)">getFirstAndLastNamesFromAddress</A></B>(int&nbsp;addrId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Look up the first name and last name using the AddressId.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#getIPAddress()">getIPAddress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the IP address of the current machine</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#getNewCriteria(boolean)">getNewCriteria</A></B>(boolean&nbsp;allStores)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a new KKCriteria object with the option of it being for all stores when in multi-store
 single db mode.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#getPaymentDetailsCustom(java.lang.String, com.konakart.appif.NameValueIf[])">getPaymentDetailsCustom</A></B>(java.lang.String&nbsp;sessionId,
                        <A HREF="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</A>[]&nbsp;parameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method used to return any custom information required from the payment module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#hashParameters(com.konakart.appif.PaymentDetailsIf, java.util.List)">hashParameters</A></B>(<A HREF="../../../../../com/konakart/appif/PaymentDetailsIf.html" title="interface in com.konakart.appif">PaymentDetailsIf</A>&nbsp;pd,
               java.util.List&lt;<A HREF="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</A>&gt;&nbsp;ccParmList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is optionally called from the sub class to load up the parameters into a
 HashTable for efficient subsequent processing</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#isGeoZoneMappedToCountry(int, int)">isGeoZoneMappedToCountry</A></B>(int&nbsp;geoZoneId,
                         int&nbsp;countryId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In some cases no zones may be defined for a country but a geo zone may be defined to map to
 all zones of that country.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#isMultiStoreShareCustomers()">isMultiStoreShareCustomers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if we need to share customers in multi-store single db mode</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#splitNameIntoFirstAndLastNames(java.lang.String)">splitNameIntoFirstAndLastNames</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>Replaced by a more robust solution where the address is looked up
             <A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#splitStreetAddressIntoNumberAndStreet(java.lang.String)"><CODE>splitStreetAddressIntoNumberAndStreet(String streetAddress)</CODE></A></I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#splitStreetAddressIntoNumberAndStreet(java.lang.String)">splitStreetAddressIntoNumberAndStreet</A></B>(java.lang.String&nbsp;streetAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Split the street address into house number and street using simple logic...</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.konakart.bl.modules.BaseModule"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.konakart.bl.modules.<A HREF="../../../../../com/konakart/bl/modules/BaseModule.html" title="class in com.konakart.bl.modules">BaseModule</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getBasketMgr()">getBasketMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getCatMgr()">getCatMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigMgr()">getConfigMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getConfiguration(java.lang.String)">getConfiguration</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigurationValue(java.lang.String)">getConfigurationValue</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigurationValueAsBigDecimalWithDefault(java.lang.String, java.math.BigDecimal)">getConfigurationValueAsBigDecimalWithDefault</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigurationValueAsBool(java.lang.String, boolean)">getConfigurationValueAsBool</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getConfigurationValueAsIntWithDefault(java.lang.String, int)">getConfigurationValueAsIntWithDefault</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getCurrMgr()">getCurrMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getCustMgr()">getCustMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getEmailMgr()">getEmailMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getEng()">getEng</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getLangMgr()">getLangMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getMultiStoreMgr()">getMultiStoreMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getOrderMgr()">getOrderMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getOrderTotalMgr()">getOrderTotalMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getPaymentMgr()">getPaymentMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getProdMgr()">getProdMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getPromMgr()">getPromMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getResourceBundle(java.lang.String, java.lang.String, java.util.HashMap, java.util.Locale)">getResourceBundle</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getRewardPointMgr()">getRewardPointMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getSecMgr()">getSecMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getShippingMgr()">getShippingMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getSolrMgr()">getSolrMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getStoreId()">getStoreId</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getStoreMgr()">getStoreMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getTaxMgr()">getTaxMgr</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#getZoneCodeForZoneName(java.lang.String)">getZoneCodeForZoneName</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#init(com.konakart.appif.KKEngIf)">init</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#isAvailable(com.konakart.app.KKEng, java.lang.String)">isAvailable</A>, <A HREF="../../../../../com/konakart/bl/modules/BaseModule.html#isAvailable(java.lang.String)">isAvailable</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="log"><!-- --></A><H3>
log</H3>
<PRE>
protected org.apache.commons.logging.Log <B>log</B></PRE>
<DL>
<DD>The <code>Log</code> instance for this application.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BasePaymentModule()"><!-- --></A><H3>
BasePaymentModule</H3>
<PRE>
public <B>BasePaymentModule</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="checkZone(com.konakart.bl.modules.payment.PaymentInfo, int)"><!-- --></A><H3>
checkZone</H3>
<PRE>
protected void <B>checkZone</B>(<A HREF="../../../../../com/konakart/bl/modules/payment/PaymentInfo.html" title="class in com.konakart.bl.modules.payment">PaymentInfo</A>&nbsp;info,
                         int&nbsp;geoZoneId)
                  throws <A HREF="../../../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>Ensures that the geoZoneId is within one of the Geo Zones contained in the PaymentInfo
 object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>info</CODE> - <DD><CODE>geoZoneId</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isGeoZoneMappedToCountry(int, int)"><!-- --></A><H3>
isGeoZoneMappedToCountry</H3>
<PRE>
protected boolean <B>isGeoZoneMappedToCountry</B>(int&nbsp;geoZoneId,
                                           int&nbsp;countryId)</PRE>
<DL>
<DD>In some cases no zones may be defined for a country but a geo zone may be defined to map to
 all zones of that country. On these occasions the DeliveryGeoZoneArray in the ShippingInfo
 object is null so the checkZone method never returns true.
 <p>
 This method does a search in the zones_to_geo_zones table for any entries matching the
 geoZoneId, countryId and zoneId of 0 which is the id that is set when the mapping is for all
 zones of the country.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>geoZoneId</CODE> - <DD><CODE>countryId</CODE> - 
<DT><B>Returns:</B><DD>Returns true if there is a mapping
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE>
<DD><CODE>org.apache.torque.TorqueException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isMultiStoreShareCustomers()"><!-- --></A><H3>
isMultiStoreShareCustomers</H3>
<PRE>
protected boolean <B>isMultiStoreShareCustomers</B>()
                                      throws <A HREF="../../../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>Returns true if we need to share customers in multi-store single db mode
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the multiStoreShareCustomers
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getNewCriteria(boolean)"><!-- --></A><H3>
getNewCriteria</H3>
<PRE>
protected <A HREF="../../../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</A> <B>getNewCriteria</B>(boolean&nbsp;allStores)</PRE>
<DL>
<DD>Gets a new KKCriteria object with the option of it being for all stores when in multi-store
 single db mode.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Returns a new KKCriteria object</DL>
</DD>
</DL>
<HR>

<A NAME="getFirstAndLastNamesFromAddress(int)"><!-- --></A><H3>
getFirstAndLastNamesFromAddress</H3>
<PRE>
protected java.lang.String[] <B>getFirstAndLastNamesFromAddress</B>(int&nbsp;addrId)
                                                      throws java.lang.Exception</PRE>
<DL>
<DD>Look up the first name and last name using the AddressId. Return them as two Strings in an
 array. If there is no such address null is returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>addrId</CODE> - the id of the address to look up
<DT><B>Returns:</B><DD>a String array where the first element is the first name and the second element is
         the surname. Returns null if the address cannot be found.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="splitNameIntoFirstAndLastNames(java.lang.String)"><!-- --></A><H3>
splitNameIntoFirstAndLastNames</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>protected java.lang.String[] <B>splitNameIntoFirstAndLastNames</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>Replaced by a more robust solution where the address is looked up
             <A HREF="../../../../../com/konakart/bl/modules/payment/BasePaymentModule.html#splitStreetAddressIntoNumberAndStreet(java.lang.String)"><CODE>splitStreetAddressIntoNumberAndStreet(String streetAddress)</CODE></A></I>
<P>
<DD>Split the name into first name and surname using simple logic... The surname is assumed to be
 the last whitespace-separated item; everything before that is used as the first name.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name as a String to convert.
<DT><B>Returns:</B><DD>a String array where the first element is the first name and the second element is
         the surname.</DL>
</DD>
</DL>
<HR>

<A NAME="splitStreetAddressIntoNumberAndStreet(java.lang.String)"><!-- --></A><H3>
splitStreetAddressIntoNumberAndStreet</H3>
<PRE>
protected java.lang.String[] <B>splitStreetAddressIntoNumberAndStreet</B>(java.lang.String&nbsp;streetAddress)</PRE>
<DL>
<DD>Split the street address into house number and street using simple logic... The house number
 is assumed to be the number at the start of the String if present. The rest is assumed to be
 the street.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>streetAddress</CODE> - the streetAddress as a String to convert.
<DT><B>Returns:</B><DD>a String array where the first element is the house number (if found) and the second
         element is the street address without the house number if that was found.</DL>
</DD>
</DL>
<HR>

<A NAME="hashParameters(com.konakart.appif.PaymentDetailsIf, java.util.List)"><!-- --></A><H3>
hashParameters</H3>
<PRE>
protected java.util.HashMap&lt;java.lang.String,java.lang.String&gt; <B>hashParameters</B>(<A HREF="../../../../../com/konakart/appif/PaymentDetailsIf.html" title="interface in com.konakart.appif">PaymentDetailsIf</A>&nbsp;pd,
                                                                              java.util.List&lt;<A HREF="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</A>&gt;&nbsp;ccParmList)</PRE>
<DL>
<DD>This method is optionally called from the sub class to load up the parameters into a
 HashTable for efficient subsequent processing
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pd</CODE> - PaymentDetails object<DD><CODE>ccParmList</CODE> - name value pair list of CC parameters
<DT><B>Returns:</B><DD>a hash map containing the parameters for rapid lookup</DL>
</DD>
</DL>
<HR>

<A NAME="addParameters(com.konakart.appif.PaymentDetailsIf, java.util.List)"><!-- --></A><H3>
addParameters</H3>
<PRE>
protected void <B>addParameters</B>(<A HREF="../../../../../com/konakart/appif/PaymentDetailsIf.html" title="interface in com.konakart.appif">PaymentDetailsIf</A>&nbsp;pd,
                             java.util.List&lt;<A HREF="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</A>&gt;&nbsp;newParameters)</PRE>
<DL>
<DD>Add more parameters to the PaymentDetails object. Normally this method would be on the
 PaymentDetails class but it's placed here instead because of the automatic code generation
 that occurs on the PaymentDetails class for web services, JSON and RMI etc.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pd</CODE> - the PaymentDetails object<DD><CODE>newParameters</CODE> - The parameters to set.</DL>
</DD>
</DL>
<HR>

<A NAME="getIPAddress()"><!-- --></A><H3>
getIPAddress</H3>
<PRE>
protected java.lang.String <B>getIPAddress</B>()
                                 throws <A HREF="../../../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>Return the IP address of the current machine
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the IP address of the current machine as a String
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPaymentDetailsCustom(java.lang.String, com.konakart.appif.NameValueIf[])"><!-- --></A><H3>
getPaymentDetailsCustom</H3>
<PRE>
public <A HREF="../../../../../com/konakart/app/PaymentDetails.html" title="class in com.konakart.app">PaymentDetails</A> <B>getPaymentDetailsCustom</B>(java.lang.String&nbsp;sessionId,
                                              <A HREF="../../../../../com/konakart/appif/NameValueIf.html" title="interface in com.konakart.appif">NameValueIf</A>[]&nbsp;parameters)
                                       throws java.lang.Exception</PRE>
<DL>
<DD>Method used to return any custom information required from the payment module. When used,
 this method will typically be overridden in the module.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sessionId</CODE> - <DD><CODE>parameters</CODE> - 
<DT><B>Returns:</B><DD>Returns information in a PaymentDetails object
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/konakart/bl/modules/payment/PaymentInfo.html" title="class in com.konakart.bl.modules.payment"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/konakart/bl/modules/payment/BasePaymentModule.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BasePaymentModule.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2011 DS Data Systems UK Ltd.
</BODY>
</HTML>
