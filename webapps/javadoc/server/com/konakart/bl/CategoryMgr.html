<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Wed Aug 27 11:46:10 BST 2014 -->
<TITLE>
CategoryMgr (KonaKart Server Engine API Documentation)
</TITLE>

<META NAME="date" CONTENT="2014-08-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CategoryMgr (KonaKart Server Engine API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/konakart/bl/CacheMgr.StaticData.html" title="class in com.konakart.bl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/konakart/bl/CategoryMgr.StaticData.html" title="class in com.konakart.bl"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/konakart/bl/CategoryMgr.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CategoryMgr.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.konakart.bl</FONT>
<BR>
Class CategoryMgr</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../com/konakart/bl/BaseMgr.html" title="class in com.konakart.bl">com.konakart.bl.BaseMgr</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.konakart.bl.CategoryMgr</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>CategoryMgr</B><DT>extends <A HREF="../../../com/konakart/bl/BaseMgr.html" title="class in com.konakart.bl">BaseMgr</A><DT>implements <A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></DL>
</PRE>

<P>
Manages all business logic relevant to the management of categories within the system.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.StaticData.html" title="class in com.konakart.bl">CategoryMgr.StaticData</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to store the static data of this manager</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;org.apache.commons.logging.Log</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#log">log</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the log</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#mutex">mutex</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.util.Map&lt;java.lang.String,<A HREF="../../../com/konakart/bl/CategoryMgr.StaticData.html" title="class in com.konakart.bl">CategoryMgr.StaticData</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#staticDataHM">staticDataHM</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hash Map that contains the static data</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.konakart.bl.BaseMgr"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class com.konakart.bl.<A HREF="../../../com/konakart/bl/BaseMgr.html" title="class in com.konakart.bl">BaseMgr</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/konakart/bl/BaseMgr.html#templateBaseDir">templateBaseDir</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#CategoryMgr(com.konakart.appif.KKEngIf)">CategoryMgr</A></B>(<A HREF="../../../com/konakart/appif/KKEngIf.html" title="interface in com.konakart.appif">KKEngIf</A>&nbsp;eng)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#cloneTree(com.konakart.app.Category[])">cloneTree</A></B>(<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]&nbsp;tree)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#createCategoryTree(int)">createCategoryTree</A></B>(int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a category tree with a single query</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#fillCatTreeWithProductNumbers(com.konakart.app.Category[])">fillCatTreeWithProductNumbers</A></B>(<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]&nbsp;catTree)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receives an array of Categories as input and compiles the numberOfProducts field for each
 Category</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getCategoriesFromIds(java.util.ArrayList, int)">getCategoriesFromIds</A></B>(java.util.ArrayList&lt;java.lang.Integer&gt;&nbsp;catIdList,
                     int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return an array of categories for the ids passed in through the catIdList parameter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getCategoriesPerManufacturer(int, int)">getCategoriesPerManufacturer</A></B>(int&nbsp;manufacturerId,
                             int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an array of leaf Category objects for the given manufacturer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getCategoriesPerProduct(int, int)">getCategoriesPerProduct</A></B>(int&nbsp;productId,
                        int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an array of Category objects that the product belongs to.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getCategory(int, int)">getCategory</A></B>(int&nbsp;categoryId,
            int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getCategoryTree(int)">getCategoryTree</A></B>(int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calls getCategoryTree(int languageId, boolean getNumProducts)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getCategoryTree(int, boolean)">getCategoryTree</A></B>(int&nbsp;languageId,
                boolean&nbsp;getNumProducts)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an array of top level categories each of which includes an array of child categories
 etc.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getCategoryTreeWithOptions(com.konakart.appif.CategoryTreeOptionsIf)">getCategoryTreeWithOptions</A></B>(<A HREF="../../../com/konakart/appif/CategoryTreeOptionsIf.html" title="interface in com.konakart.appif">CategoryTreeOptionsIf</A>&nbsp;options)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a category tree structure consisting of an array of top level categories, each of
 which may contain an array of child categories.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getChildren(int)">getChildren</A></B>(int&nbsp;categoryId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an array of categoryId describing the children of the given category.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/konakart/bl/CategoryStats.html" title="class in com.konakart.bl">CategoryStats</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getLastModifiedData()">getLastModifiedData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the date of the last modified category and the number of categories in the
 database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getNumProductsPerCategory(int)">getNumProductsPerCategory</A></B>(int&nbsp;categoryId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of products for a leaf category by doing a direct query on the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getParents(int)">getParents</A></B>(int&nbsp;categoryId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an array of categoryId describing the given category and its parents.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.HashMap&lt;java.lang.Integer,java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#getProductsPerCategory()">getProductsPerCategory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a HashMap with CategoryId as the key and Number of Products for that category as the
 value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#initStaticVariables(com.konakart.bl.CategoryStats)">initStaticVariables</A></B>(<A HREF="../../../com/konakart/bl/CategoryStats.html" title="class in com.konakart.bl">CategoryStats</A>&nbsp;catStats)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A synchronized method to initialise the static variables</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#setCategoryLevel(com.konakart.app.Category, int)">setCategoryLevel</A></B>(<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>&nbsp;cat,
                 int&nbsp;level)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recursive method to set the category level</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#setChildrenProductNumbers(com.konakart.app.Category, java.util.HashMap)">setChildrenProductNumbers</A></B>(<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>&nbsp;parent,
                          java.util.HashMap&lt;java.lang.Integer,java.lang.Integer&gt;&nbsp;hm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recurses through all of the category tree setting the <code>numberOfProducts</code>
 attribute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#setCriteriaWithStandardAttributes(com.konakart.db.KKCriteria, int)">setCriteriaWithStandardAttributes</A></B>(<A HREF="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</A>&nbsp;c,
                                  int&nbsp;languageId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the criteria with the standard attributes so as not to have to repeat this code many
 times.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakart/bl/CategoryMgr.html#setCriteriaWithStandardAttributes(com.konakart.db.KKCriteria, int, boolean)">setCriteriaWithStandardAttributes</A></B>(<A HREF="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</A>&nbsp;c,
                                  int&nbsp;languageId,
                                  boolean&nbsp;addDescription)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the criteria with the standard attributes so as not to have to repeat this code many
 times.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.konakart.bl.BaseMgr"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.konakart.bl.<A HREF="../../../com/konakart/bl/BaseMgr.html" title="class in com.konakart.bl">BaseMgr</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/konakart/bl/BaseMgr.html#addInsertAttr(org.apache.torque.util.Criteria, java.lang.String, int)">addInsertAttr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#addInsertAttr(org.apache.torque.util.Criteria, java.lang.String, java.lang.Object)">addInsertAttr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#addStringRuleConstraint(com.konakart.db.KKCriteria, java.lang.String, int, org.apache.torque.Column)">addStringRuleConstraint</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#addStringRuleConstraint(com.konakart.db.KKCriteria, java.lang.String, int, java.lang.String)">addStringRuleConstraint</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#checkRequired(java.lang.Object, java.lang.String, java.lang.String)">checkRequired</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#executeQuery(java.lang.String)">executeQuery</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#executeQuery(java.lang.String, int, int, java.lang.String, boolean)">executeQuery</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#executeQuery(java.lang.String, int, int, java.lang.String, boolean, boolean, java.lang.String)">executeQuery</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#executeQuery(java.lang.String, int, int, java.lang.String, boolean, boolean, java.lang.String, java.util.List)">executeQuery</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#executeQuery(java.lang.String, java.util.List)">executeQuery</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getAdminEngMgr()">getAdminEngMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getBasketMgr()">getBasketMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getBillingMgr()">getBillingMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getBookableProductMgr()">getBookableProductMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getCacheMgr()">getCacheMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getCatMgr()">getCatMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getConfigMgr()">getConfigMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getCookieMgr()">getCookieMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getCurrMgr()">getCurrMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getCustMgr()">getCustMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getCustomerIdFromSession(java.lang.String)">getCustomerIdFromSession</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getCustomerStatsMgr()">getCustomerStatsMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getCustomerTagMgr()">getCustomerTagMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getEmailMgr()">getEmailMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getEng()">getEng</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getEventMgr()">getEventMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getKonaKartConfig(java.lang.String, boolean)">getKonaKartConfig</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getLangMgr()">getLangMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getManuMgr()">getManuMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getMiscItemMgr()">getMiscItemMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getMiscPriceMgr()">getMiscPriceMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getMode()">getMode</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getModeString()">getModeString</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getMqMgr()">getMqMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getMultiStoreMgr()">getMultiStoreMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getNewCriteria()">getNewCriteria</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getNewCriteria(boolean)">getNewCriteria</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getOrderIntegrationMgr()">getOrderIntegrationMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getOrderMgr()">getOrderMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getOrderTotalMgr()">getOrderTotalMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getPaymentMgr()">getPaymentMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getProdMgr()">getProdMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getPromMgr()">getPromMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getPunchOutMgr()">getPunchOutMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getRewardPointMgr()">getRewardPointMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getSecMgr()">getSecMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getShippingMgr()">getShippingMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getSolrMgr()">getSolrMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getStoreId()">getStoreId</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getStoreMgr()">getStoreMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getTaxMgr()">getTaxMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getTemplate(org.apache.velocity.app.VelocityEngine, java.lang.String, java.lang.String)">getTemplate</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getTemplateRoot(java.lang.String)">getTemplateRoot</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getVelocityContextMgr()">getVelocityContextMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#getWishListMgr()">getWishListMgr</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#init(com.konakart.appif.KKEngIf, org.apache.commons.logging.Log)">init</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#insertKKEvent(int, int, int)">insertKKEvent</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#insertKKEvent(int, int, java.lang.String)">insertKKEvent</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#isDeadlockException(java.sql.SQLException)">isDeadlockException</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#isEnterprise()">isEnterprise</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#isMultiStoreShareCategories()">isMultiStoreShareCategories</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#isMultiStoreShareCustomers()">isMultiStoreShareCustomers</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#isMultiStoreSharedDb()">isMultiStoreSharedDb</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#isMultiStoreShareProducts()">isMultiStoreShareProducts</A>, <A HREF="../../../com/konakart/bl/BaseMgr.html#manageThrowable(java.lang.Throwable)">manageThrowable</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="log"><!-- --></A><H3>
log</H3>
<PRE>
protected static org.apache.commons.logging.Log <B>log</B></PRE>
<DL>
<DD>the log
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mutex"><!-- --></A><H3>
mutex</H3>
<PRE>
protected static java.lang.String <B>mutex</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="staticDataHM"><!-- --></A><H3>
staticDataHM</H3>
<PRE>
protected static java.util.Map&lt;java.lang.String,<A HREF="../../../com/konakart/bl/CategoryMgr.StaticData.html" title="class in com.konakart.bl">CategoryMgr.StaticData</A>&gt; <B>staticDataHM</B></PRE>
<DL>
<DD>Hash Map that contains the static data
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CategoryMgr(com.konakart.appif.KKEngIf)"><!-- --></A><H3>
CategoryMgr</H3>
<PRE>
public <B>CategoryMgr</B>(<A HREF="../../../com/konakart/appif/KKEngIf.html" title="interface in com.konakart.appif">KKEngIf</A>&nbsp;eng)
            throws java.lang.Exception</PRE>
<DL>
<DD>Constructor
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>eng</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getCategoryTree(int)"><!-- --></A><H3>
getCategoryTree</H3>
<PRE>
protected <A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[] <B>getCategoryTree</B>(int&nbsp;languageId)
                              throws java.lang.Exception</PRE>
<DL>
<DD>Calls getCategoryTree(int languageId, boolean getNumProducts)
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>Array of Category Objects
<DT><B>Throws:</B>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCategoryTree(int, boolean)"><!-- --></A><H3>
getCategoryTree</H3>
<PRE>
public <A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[] <B>getCategoryTree</B>(int&nbsp;languageId,
                                  boolean&nbsp;getNumProducts)
                           throws java.lang.Exception</PRE>
<DL>
<DD>Returns an array of top level categories each of which includes an array of child categories
 etc. so that the category tree structure can be navigated. Since the categories are not
 changed very often and the process of building the tree requires the execution of many
 database queries, we keep a static version of the tree which is only changed if we realise
 that a category has been modified by looking at the last_modified field. Since a category may
 also be deleted, we look at the number of categories also to see whether it has changed. </p>
 Each Category class contains a field that describes how many products exist for that
 category. This field is not set in the static tree and we calculate it each time on demand
 since it only involves one database query and the product information is a lot more dynamic
 than that of the categories. We only calculate it if <code>getNumProducts</code> is set. </p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html#getCategoryTree(int, boolean)">getCategoryTree</A></CODE> in interface <CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>languageId</CODE> - <DD><CODE>getNumProducts</CODE> - 
<DT><B>Returns:</B><DD>Array of Category Objects
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCategoryTreeWithOptions(com.konakart.appif.CategoryTreeOptionsIf)"><!-- --></A><H3>
getCategoryTreeWithOptions</H3>
<PRE>
public <A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[] <B>getCategoryTreeWithOptions</B>(<A HREF="../../../com/konakart/appif/CategoryTreeOptionsIf.html" title="interface in com.konakart.appif">CategoryTreeOptionsIf</A>&nbsp;options)
                                      throws java.lang.Exception</PRE>
<DL>
<DD>Returns a category tree structure consisting of an array of top level categories, each of
 which may contain an array of child categories.
 <p>
 The name of the category is language dependent and will be returned in the language defined
 by the <code>languageId</code> parameter of the CategoryTreeObject.
 <p>
 Each Category class contains a <code>numberOfProducts</code> field that describes how many
 products exist for that category. It is only calculated if the <code>getNumProducts</code>
 input parameter of the CategoryTreeOptions object is set to true. For performance reasons
 this parameter should be set to false if <code>numberOfProducts</code> is not required.
 <p>
 If the CategoryTreeOptions object has its returnClonedTree attribute set to true a cloned
 version of the category tree will be returned.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html#getCategoryTreeWithOptions(com.konakart.appif.CategoryTreeOptionsIf)">getCategoryTreeWithOptions</A></CODE> in interface <CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>options</CODE> - Category tree options object.
<DT><B>Returns:</B><DD>Array of Category objects
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="cloneTree(com.konakart.app.Category[])"><!-- --></A><H3>
cloneTree</H3>
<PRE>
protected <A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[] <B>cloneTree</B>(<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]&nbsp;tree)
                        throws java.lang.Exception</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initStaticVariables(com.konakart.bl.CategoryStats)"><!-- --></A><H3>
initStaticVariables</H3>
<PRE>
protected void <B>initStaticVariables</B>(<A HREF="../../../com/konakart/bl/CategoryStats.html" title="class in com.konakart.bl">CategoryStats</A>&nbsp;catStats)
                            throws <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>A synchronized method to initialise the static variables
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>catStats</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createCategoryTree(int)"><!-- --></A><H3>
createCategoryTree</H3>
<PRE>
protected <A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[] <B>createCategoryTree</B>(int&nbsp;languageId)
                                 throws org.apache.torque.TorqueException,
                                        com.workingdogs.village.DataSetException,
                                        <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>Creates a category tree with a single query
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>Array of Category Objects
<DT><B>Throws:</B>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE>com.workingdogs.village.DataSetException</CODE>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setCategoryLevel(com.konakart.app.Category, int)"><!-- --></A><H3>
setCategoryLevel</H3>
<PRE>
public void <B>setCategoryLevel</B>(<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>&nbsp;cat,
                             int&nbsp;level)</PRE>
<DL>
<DD>Recursive method to set the category level
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cat</CODE> - <DD><CODE>level</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getCategoriesPerManufacturer(int, int)"><!-- --></A><H3>
getCategoriesPerManufacturer</H3>
<PRE>
public <A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[] <B>getCategoriesPerManufacturer</B>(int&nbsp;manufacturerId,
                                               int&nbsp;languageId)
                                        throws java.lang.Exception</PRE>
<DL>
<DD>Returns an array of leaf Category objects for the given manufacturer.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html#getCategoriesPerManufacturer(int, int)">getCategoriesPerManufacturer</A></CODE> in interface <CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>manufacturerId</CODE> - <DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>Return an array of category objects
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCategoriesPerProduct(int, int)"><!-- --></A><H3>
getCategoriesPerProduct</H3>
<PRE>
public <A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[] <B>getCategoriesPerProduct</B>(int&nbsp;productId,
                                          int&nbsp;languageId)
                                   throws java.lang.Exception</PRE>
<DL>
<DD>Returns an array of Category objects that the product belongs to.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html#getCategoriesPerProduct(int, int)">getCategoriesPerProduct</A></CODE> in interface <CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>productId</CODE> - <DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>Return an array of category objects
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getProductsPerCategory()"><!-- --></A><H3>
getProductsPerCategory</H3>
<PRE>
protected java.util.HashMap&lt;java.lang.Integer,java.lang.Integer&gt; <B>getProductsPerCategory</B>()
                                                                                 throws org.apache.torque.TorqueException,
                                                                                        com.workingdogs.village.DataSetException,
                                                                                        <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>Returns a HashMap with CategoryId as the key and Number of Products for that category as the
 value. The products need to have a non 0 status and not be invisible to be considered.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>HashMap Contains number of products per category
<DT><B>Throws:</B>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE>com.workingdogs.village.DataSetException</CODE>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getNumProductsPerCategory(int)"><!-- --></A><H3>
getNumProductsPerCategory</H3>
<PRE>
protected int <B>getNumProductsPerCategory</B>(int&nbsp;categoryId)
                                 throws org.apache.torque.TorqueException,
                                        com.workingdogs.village.DataSetException,
                                        <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>Returns the number of products for a leaf category by doing a direct query on the database.
 The products need to have a non 0 status to be considered.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>categoryId</CODE> - 
<DT><B>Returns:</B><DD>Return an int defining the number of products per category
<DT><B>Throws:</B>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE>com.workingdogs.village.DataSetException</CODE>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getLastModifiedData()"><!-- --></A><H3>
getLastModifiedData</H3>
<PRE>
public <A HREF="../../../com/konakart/bl/CategoryStats.html" title="class in com.konakart.bl">CategoryStats</A> <B>getLastModifiedData</B>()
                                  throws org.apache.torque.TorqueException,
                                         com.workingdogs.village.DataSetException,
                                         <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>Retrieves the date of the last modified category and the number of categories in the
 database. It will be used to identify whether any category has been changed. If the
 <code>last_modified</code> column doesn't contain any valid dates, then we return the current
 date since we have to assume worst case that some category has been modified.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>CategoryStats An object containing last modification date and number of categories
<DT><B>Throws:</B>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE>com.workingdogs.village.DataSetException</CODE>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="fillCatTreeWithProductNumbers(com.konakart.app.Category[])"><!-- --></A><H3>
fillCatTreeWithProductNumbers</H3>
<PRE>
protected void <B>fillCatTreeWithProductNumbers</B>(<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[]&nbsp;catTree)
                                      throws org.apache.torque.TorqueException,
                                             com.workingdogs.village.DataSetException,
                                             <A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></PRE>
<DL>
<DD>Receives an array of Categories as input and compiles the numberOfProducts field for each
 Category
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>catTree</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>com.workingdogs.village.DataSetException</CODE>
<DD><CODE>org.apache.torque.TorqueException</CODE>
<DD><CODE><A HREF="../../../com/konakart/app/KKException.html" title="class in com.konakart.app">KKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setChildrenProductNumbers(com.konakart.app.Category, java.util.HashMap)"><!-- --></A><H3>
setChildrenProductNumbers</H3>
<PRE>
protected void <B>setChildrenProductNumbers</B>(<A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>&nbsp;parent,
                                         java.util.HashMap&lt;java.lang.Integer,java.lang.Integer&gt;&nbsp;hm)
                                  throws com.workingdogs.village.DataSetException</PRE>
<DL>
<DD>Recurses through all of the category tree setting the <code>numberOfProducts</code>
 attribute.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>parent</CODE> - The parent category.<DD><CODE>hm</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>com.workingdogs.village.DataSetException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getChildren(int)"><!-- --></A><H3>
getChildren</H3>
<PRE>
public int[] <B>getChildren</B>(int&nbsp;categoryId)
                  throws java.lang.Exception</PRE>
<DL>
<DD>Returns an array of categoryId describing the children of the given category. Returns null if
 there are no children.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html#getChildren(int)">getChildren</A></CODE> in interface <CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>categoryId</CODE> - 
<DT><B>Returns:</B><DD>Return an array of categoryId
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getParents(int)"><!-- --></A><H3>
getParents</H3>
<PRE>
public int[] <B>getParents</B>(int&nbsp;categoryId)
                 throws java.lang.Exception</PRE>
<DL>
<DD>Returns an array of categoryId describing the given category and its parents. Returns just
 the given category id in the array if there are no parents (i.e. It is a top level node).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html#getParents(int)">getParents</A></CODE> in interface <CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>categoryId</CODE> - 
<DT><B>Returns:</B><DD>Return an array of categoryId
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCategory(int, int)"><!-- --></A><H3>
getCategory</H3>
<PRE>
public <A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A> <B>getCategory</B>(int&nbsp;categoryId,
                            int&nbsp;languageId)
                     throws java.lang.Exception</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html#getCategory(int, int)">getCategory</A></CODE> in interface <CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>categoryId</CODE> - <DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>Return a fully populated single category object (no children)
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setCriteriaWithStandardAttributes(com.konakart.db.KKCriteria, int)"><!-- --></A><H3>
setCriteriaWithStandardAttributes</H3>
<PRE>
protected void <B>setCriteriaWithStandardAttributes</B>(<A HREF="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</A>&nbsp;c,
                                                 int&nbsp;languageId)</PRE>
<DL>
<DD>Sets the criteria with the standard attributes so as not to have to repeat this code many
 times.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - <DD><CODE>languageId</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="setCriteriaWithStandardAttributes(com.konakart.db.KKCriteria, int, boolean)"><!-- --></A><H3>
setCriteriaWithStandardAttributes</H3>
<PRE>
protected void <B>setCriteriaWithStandardAttributes</B>(<A HREF="../../../com/konakart/db/KKCriteria.html" title="class in com.konakart.db">KKCriteria</A>&nbsp;c,
                                                 int&nbsp;languageId,
                                                 boolean&nbsp;addDescription)</PRE>
<DL>
<DD>Sets the criteria with the standard attributes so as not to have to repeat this code many
 times.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - <DD><CODE>languageId</CODE> - <DD><CODE>addDescription</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getCategoriesFromIds(java.util.ArrayList, int)"><!-- --></A><H3>
getCategoriesFromIds</H3>
<PRE>
public <A HREF="../../../com/konakart/app/Category.html" title="class in com.konakart.app">Category</A>[] <B>getCategoriesFromIds</B>(java.util.ArrayList&lt;java.lang.Integer&gt;&nbsp;catIdList,
                                       int&nbsp;languageId)
                                throws java.lang.Exception</PRE>
<DL>
<DD>Return an array of categories for the ids passed in through the catIdList parameter.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html#getCategoriesFromIds(java.util.ArrayList, int)">getCategoriesFromIds</A></CODE> in interface <CODE><A HREF="../../../com/konakart/blif/CategoryMgrIf.html" title="interface in com.konakart.blif">CategoryMgrIf</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>catIdList</CODE> - An array list containing ids of categories<DD><CODE>languageId</CODE> - 
<DT><B>Returns:</B><DD>An array of categories for the ids passed in
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/konakart/bl/CacheMgr.StaticData.html" title="class in com.konakart.bl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/konakart/bl/CategoryMgr.StaticData.html" title="class in com.konakart.bl"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/konakart/bl/CategoryMgr.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CategoryMgr.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2011 DS Data Systems UK Ltd.
</BODY>
</HTML>
