<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Wed Aug 27 11:46:40 BST 2014 -->
<TITLE>
AdminCustomerBatchMgr (KonaKartAdmin API Documentation)
</TITLE>

<META NAME="date" CONTENT="2014-08-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AdminCustomerBatchMgr (KonaKartAdmin API Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/konakartadmin/bl/AdminCurrencyMgr.StaticData.html" title="class in com.konakartadmin.bl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/konakartadmin/bl/AdminCustomerBatchMgr.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AdminCustomerBatchMgr.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_com.konakartadmin.bl.AdminBatchBaseMgr">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.konakartadmin.bl</FONT>
<BR>
Class AdminCustomerBatchMgr</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html" title="class in com.konakartadmin.bl">com.konakartadmin.bl.AdminBaseMgr</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html" title="class in com.konakartadmin.bl">com.konakartadmin.bl.AdminBatchBaseMgr</A>
          <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.konakartadmin.bl.AdminCustomerBatchMgr</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>AdminCustomerBatchMgr</B><DT>extends <A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html" title="class in com.konakartadmin.bl">AdminBatchBaseMgr</A></DL>
</PRE>

<P>
The CustomerBatchMgr
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl">AdminCustomerBatchMgr.CustRetList</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A return object containing a list of Customers and the last customer Id processed</TD>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_com.konakartadmin.bl.AdminBaseMgr"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from class com.konakartadmin.bl.<A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html" title="class in com.konakartadmin.bl">AdminBaseMgr</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.StaticData.html" title="class in com.konakartadmin.bl">AdminBaseMgr.StaticData</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.konakartadmin.bl.AdminBatchBaseMgr"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class com.konakartadmin.bl.<A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html" title="class in com.konakartadmin.bl">AdminBatchBaseMgr</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#log">log</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.konakartadmin.bl.AdminBaseMgr"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class com.konakartadmin.bl.<A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html" title="class in com.konakartadmin.bl">AdminBaseMgr</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#adminEng">adminEng</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#baseMgrMutex">baseMgrMutex</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#baseStaticDataHM">baseStaticDataHM</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#cDataEnd">cDataEnd</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#cDataStart">cDataStart</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#kkConf">kkConf</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#kkInstanceId">kkInstanceId</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#mgrFactory">mgrFactory</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#STORE_ID">STORE_ID</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#templateBaseDir">templateBaseDir</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#AdminCustomerBatchMgr(com.konakartadmin.appif.KKAdminIf)">AdminCustomerBatchMgr</A></B>(<A HREF="../../../com/konakartadmin/appif/KKAdminIf.html" title="interface in com.konakartadmin.appif">KKAdminIf</A>&nbsp;eng)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#countCustomersBatch(java.lang.String, java.lang.String, java.lang.String)">countCustomersBatch</A></B>(java.lang.String&nbsp;logName,
                    java.lang.String&nbsp;appendLogStr,
                    java.lang.String&nbsp;sessId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This batch is a simple example that can be used to demonstrate how the ExecuteMultiStoreBatch
 class can be used to execute batch jobs for each store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#deleteCustomer(com.konakartadmin.app.AdminCustomer, com.konakart.db.KKCriteria, com.konakart.db.KKCriteria, com.konakartadmin.blif.AdminCustomerMgrIf)">deleteCustomer</A></B>(<A HREF="../../../com/konakartadmin/app/AdminCustomer.html" title="class in com.konakartadmin.app">AdminCustomer</A>&nbsp;cust,
               com.konakart.db.KKCriteria&nbsp;sessionCrit,
               com.konakart.db.KKCriteria&nbsp;sessionDelCrit,
               <A HREF="../../../com/konakartadmin/blif/AdminCustomerMgrIf.html" title="interface in com.konakartadmin.blif">AdminCustomerMgrIf</A>&nbsp;custMgr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#deleteTemporaryDataBatch(java.lang.String, java.lang.String, java.lang.String)">deleteTemporaryDataBatch</A></B>(java.lang.String&nbsp;logName,
                         java.lang.String&nbsp;appendLogStr,
                         java.lang.String&nbsp;numDaysStr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This batch is used to delete temporary data in order to keep your KonaKart store running
 efficiently.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#expiredRewardPointBatch(java.lang.String, java.lang.String, java.lang.String)">expiredRewardPointBatch</A></B>(java.lang.String&nbsp;logName,
                        java.lang.String&nbsp;appendLogStr,
                        java.lang.String&nbsp;numDaysStr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This batch is used to expire reward points after a certain time limit, which is entered as a
 number of days in the <code>numDays</code> parameter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;com.konakart.db.KKCriteria</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getCustomerCriteria(int, int[])">getCustomerCriteria</A></B>(int&nbsp;size,
                    int[]&nbsp;permanentCustTypes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the criteria object to search for customers</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl">AdminCustomerBatchMgr.CustRetList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getCustomers(com.konakart.db.KKCriteria, int)">getCustomers</A></B>(com.konakart.db.KKCriteria&nbsp;c,
             int&nbsp;custId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The method returns a null list within the return object when all of the customers have been
 read.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;com.konakart.db.KKCriteria</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getSessionCriteria()">getSessionCriteria</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the criteria object to search for a customer's session</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getTimeInSecs()">getTimeInSecs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Utility method to return the current time in seconds</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List&lt;<A HREF="../../../com/konakartadmin/app/AdminOrder.html" title="class in com.konakartadmin.app">AdminOrder</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#getUnpaidOrders(com.konakart.db.KKCriteria)">getUnpaidOrders</A></B>(com.konakart.db.KKCriteria&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The method returns null when all of the orders have been read.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#hasSessionExpired(int)">hasSessionExpired</A></B>(int&nbsp;expiryInSecs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.html#removeExpiredCustomersBatch(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">removeExpiredCustomersBatch</A></B>(java.lang.String&nbsp;logName,
                            java.lang.String&nbsp;appendLogStr,
                            java.lang.String&nbsp;recordFetchSizeStr,
                            java.lang.String&nbsp;permanentCustTypesStr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Each existing customer is read from the database in a loop, and for each customer object we
 detect whether it has one or more expired session records and no non expired record.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.konakartadmin.bl.AdminBatchBaseMgr"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.konakartadmin.bl.<A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html" title="class in com.konakartadmin.bl">AdminBatchBaseMgr</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getBatchLogName(java.lang.String, boolean)">getBatchLogName</A>, <A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getBoolean(java.lang.String, boolean, boolean)">getBoolean</A>, <A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getInt(java.lang.String, int, boolean)">getInt</A>, <A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getIntArray(java.lang.String)">getIntArray</A>, <A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#getLogName(java.lang.String, boolean)">getLogName</A>, <A HREF="../../../com/konakartadmin/bl/AdminBatchBaseMgr.html#validateTemplate(java.lang.String)">validateTemplate</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.konakartadmin.bl.AdminBaseMgr"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.konakartadmin.bl.<A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html" title="class in com.konakartadmin.bl">AdminBaseMgr</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#addInsertAttr(com.konakart.db.KKCriteria, java.lang.String, int)">addInsertAttr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#addInsertAttr(com.konakart.db.KKCriteria, java.lang.String, java.lang.Object)">addInsertAttr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#addStringRuleConstraint(com.konakart.db.KKCriteria, java.lang.String, int, org.apache.torque.map.ColumnMap)">addStringRuleConstraint</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#addStringRuleConstraint(com.konakart.db.KKCriteria, java.lang.String, int, java.lang.String)">addStringRuleConstraint</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#checkIntInRange(int, int, int, java.lang.String)">checkIntInRange</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#checkIntIsSet(int, java.lang.String, java.lang.String)">checkIntIsSet</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#checkRequired(java.lang.Object, java.lang.String, java.lang.String)">checkRequired</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#executeQuery(java.lang.String)">executeQuery</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#executeQuery(java.lang.String, java.util.List)">executeQuery</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminAddressMgr()">getAdminAddressMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminAuditMgr()">getAdminAuditMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminBillingMgr()">getAdminBillingMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminBookableProductMgr()">getAdminBookableProductMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCatMgr()">getAdminCatMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminConfigMgr()">getAdminConfigMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCurrMgr()">getAdminCurrMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCustMgr()">getAdminCustMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCustPwdHistMgr()">getAdminCustPwdHistMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminCustTagMgr()">getAdminCustTagMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminEmailMgr()">getAdminEmailMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminEng()">getAdminEng</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminEventMgr()">getAdminEventMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminFileMgr()">getAdminFileMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminHtmlMgr()">getAdminHtmlMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminLanguageMgr()">getAdminLanguageMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminManuMgr()">getAdminManuMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminMessageMgr()">getAdminMessageMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminMiscItemMgr()">getAdminMiscItemMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminMiscPriceMgr()">getAdminMiscPriceMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminModulesMgr()">getAdminModulesMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminMultiStoreMgr()">getAdminMultiStoreMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminOrderMgr()">getAdminOrderMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminPdfMgr()">getAdminPdfMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminProdAttrMgr()">getAdminProdAttrMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminProdMgr()">getAdminProdMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminPromMgr()">getAdminPromMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminReviewMgr()">getAdminReviewMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminSearchRuleMgr()">getAdminSearchRuleMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminSecMgr()">getAdminSecMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminShipmentMgr()">getAdminShipmentMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminSolrMgr()">getAdminSolrMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminStoreMgr()">getAdminStoreMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminTagMgr()">getAdminTagMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminTaxMgr()">getAdminTaxMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminValidationMgr()">getAdminValidationMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminVelocityContextMgr()">getAdminVelocityContextMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getAdminWishListMgr()">getAdminWishListMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getBooleanFromString(java.lang.String, boolean)">getBooleanFromString</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getExportXMLData()">getExportXMLData</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getIntFromString(java.lang.String, int)">getIntFromString</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getKkConfig()">getKkConfig</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getKkInstanceId()">getKkInstanceId</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getMode()">getMode</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getModeString()">getModeString</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getMqMgr()">getMqMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getNewCriteria()">getNewCriteria</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getNewCriteria(boolean)">getNewCriteria</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getNewCriteria(boolean, org.apache.torque.sql.Query.Type)">getNewCriteria</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getNewCriteria(org.apache.torque.sql.Query.Type)">getNewCriteria</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPostSearchText()">getPostSearchText</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPreSearchText()">getPreSearchText</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPropertyValue(java.lang.String)">getPropertyValue</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPropertyValue(java.lang.String, java.lang.String)">getPropertyValue</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPropertyValueAsBool(java.lang.String, boolean)">getPropertyValueAsBool</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getPropertyValueAsInt(java.lang.String, int)">getPropertyValueAsInt</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getRecordCount(com.konakart.db.KKCriteria)">getRecordCount</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getRewardPointMgr()">getRewardPointMgr</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getSingleIntResult(com.konakart.db.KKCriteria)">getSingleIntResult</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getStoreId()">getStoreId</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getTemplate(org.apache.velocity.app.VelocityEngine, java.lang.String, java.lang.String)">getTemplate</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getTemplateBase(java.lang.String)">getTemplateBase</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#getXml_io()">getXml_io</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#init(com.konakartadmin.appif.KKAdminIf)">init</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#insertKKEvent(int, int, int)">insertKKEvent</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#insertKKEvent(int, int, java.lang.String)">insertKKEvent</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isConfigSet(java.lang.String, boolean)">isConfigSet</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isEnterprise()">isEnterprise</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreLanguagesShared()">isMultiStoreLanguagesShared</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreMode()">isMultiStoreMode</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreShareCategories()">isMultiStoreShareCategories</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreShareCustomers()">isMultiStoreShareCustomers</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreShareProducts()">isMultiStoreShareProducts</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreSingleDBCSMode()">isMultiStoreSingleDBCSMode</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreSingleDBMode()">isMultiStoreSingleDBMode</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#isMultiStoreSingleDBNonCSMode()">isMultiStoreSingleDBNonCSMode</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#manageException(java.lang.Exception)">manageException</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#manageThrowable(java.lang.Throwable)">manageThrowable</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#refreshConfigs()">refreshConfigs</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#removeCData(java.lang.String)">removeCData</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#setAdminEng(com.konakartadmin.appif.KKAdminIf)">setAdminEng</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#setupWildCardRules(com.konakartadmin.bl.AdminBaseMgr.StaticData)">setupWildCardRules</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#setWildCardAfter(com.konakartadmin.bl.AdminBaseMgr.StaticData)">setWildCardAfter</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#setWildCardBefore(com.konakartadmin.bl.AdminBaseMgr.StaticData)">setWildCardBefore</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#shutdownGracefully(java.io.BufferedWriter)">shutdownGracefully</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#shutdownGracefully(java.util.concurrent.ExecutorService, java.io.BufferedWriter)">shutdownGracefully</A>, <A HREF="../../../com/konakartadmin/bl/AdminBaseMgr.html#timestampStr()">timestampStr</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AdminCustomerBatchMgr(com.konakartadmin.appif.KKAdminIf)"><!-- --></A><H3>
AdminCustomerBatchMgr</H3>
<PRE>
public <B>AdminCustomerBatchMgr</B>(<A HREF="../../../com/konakartadmin/appif/KKAdminIf.html" title="interface in com.konakartadmin.appif">KKAdminIf</A>&nbsp;eng)
                      throws java.lang.Exception</PRE>
<DL>
<DL>
<DT><B>Parameters:</B><DD><CODE>eng</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="removeExpiredCustomersBatch(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
removeExpiredCustomersBatch</H3>
<PRE>
public java.lang.String <B>removeExpiredCustomersBatch</B>(java.lang.String&nbsp;logName,
                                                    java.lang.String&nbsp;appendLogStr,
                                                    java.lang.String&nbsp;recordFetchSizeStr,
                                                    java.lang.String&nbsp;permanentCustTypesStr)
                                             throws java.lang.Exception</PRE>
<DL>
<DD>Each existing customer is read from the database in a loop, and for each customer object we
 detect whether it has one or more expired session records and no non expired record. If this
 is the case, the customer and the session records are deleted. If no session records exist,
 then the creation time of the customer is read and the customer is deleted if it has existed
 for a few seconds, in order to avoid deleting customers that are in the process of being
 created and registered.
 
 This batch is used for the case where KonaKart mustn't store customer information so this
 information is stored only temporarily to allow a customer to place an order and then is
 deleted.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>logName</CODE> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.<DD><CODE>appendLogStr</CODE> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.<DD><CODE>recordFetchSizeStr</CODE> - It the batch involves reading many records in a loop, this determines the maximum
            number read in any one loop. It defaults to 100.<DD><CODE>permanentCustTypesStr</CODE> - An array of customer types that won't be deleted. They are in a format "3-6-8"
            where "-" is a delimiter between the integers.
<DT><B>Returns:</B><DD>Returns the number of customers removed
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteCustomer(com.konakartadmin.app.AdminCustomer, com.konakart.db.KKCriteria, com.konakart.db.KKCriteria, com.konakartadmin.blif.AdminCustomerMgrIf)"><!-- --></A><H3>
deleteCustomer</H3>
<PRE>
protected int <B>deleteCustomer</B>(<A HREF="../../../com/konakartadmin/app/AdminCustomer.html" title="class in com.konakartadmin.app">AdminCustomer</A>&nbsp;cust,
                             com.konakart.db.KKCriteria&nbsp;sessionCrit,
                             com.konakart.db.KKCriteria&nbsp;sessionDelCrit,
                             <A HREF="../../../com/konakartadmin/blif/AdminCustomerMgrIf.html" title="interface in com.konakartadmin.blif">AdminCustomerMgrIf</A>&nbsp;custMgr)
                      throws java.lang.Exception</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="hasSessionExpired(int)"><!-- --></A><H3>
hasSessionExpired</H3>
<PRE>
protected boolean <B>hasSessionExpired</B>(int&nbsp;expiryInSecs)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCustomers(com.konakart.db.KKCriteria, int)"><!-- --></A><H3>
getCustomers</H3>
<PRE>
protected <A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl">AdminCustomerBatchMgr.CustRetList</A> <B>getCustomers</B>(com.konakart.db.KKCriteria&nbsp;c,
                                                         int&nbsp;custId)
                                                  throws java.lang.Exception</PRE>
<DL>
<DD>The method returns a null list within the return object when all of the customers have been
 read. The caller can stop looping when he receives null.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - 
<DT><B>Returns:</B><DD>Returns a list of AdminCustomers and the last customer Id
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSessionCriteria()"><!-- --></A><H3>
getSessionCriteria</H3>
<PRE>
protected com.konakart.db.KKCriteria <B>getSessionCriteria</B>()</PRE>
<DL>
<DD>Get the criteria object to search for a customer's session
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Returns a criteria object</DL>
</DD>
</DL>
<HR>

<A NAME="getCustomerCriteria(int, int[])"><!-- --></A><H3>
getCustomerCriteria</H3>
<PRE>
protected com.konakart.db.KKCriteria <B>getCustomerCriteria</B>(int&nbsp;size,
                                                         int[]&nbsp;permanentCustTypes)</PRE>
<DL>
<DD>Get the criteria object to search for customers
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>size</CODE> - <DD><CODE>permanentCustTypes</CODE> - 
<DT><B>Returns:</B><DD>Returns a criteria object</DL>
</DD>
</DL>
<HR>

<A NAME="expiredRewardPointBatch(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
expiredRewardPointBatch</H3>
<PRE>
public void <B>expiredRewardPointBatch</B>(java.lang.String&nbsp;logName,
                                    java.lang.String&nbsp;appendLogStr,
                                    java.lang.String&nbsp;numDaysStr)
                             throws java.lang.Exception</PRE>
<DL>
<DD>This batch is used to expire reward points after a certain time limit, which is entered as a
 number of days in the <code>numDays</code> parameter. The expired attribute of each expired
 reward points record is set to non zero by the batch.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>logName</CODE> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.<DD><CODE>appendLogStr</CODE> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.<DD><CODE>numDaysStr</CODE> - If current time - numDays is greater than the date when the reward point
            transaction was added, then the points added in that transaction are expired.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="deleteTemporaryDataBatch(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
deleteTemporaryDataBatch</H3>
<PRE>
public void <B>deleteTemporaryDataBatch</B>(java.lang.String&nbsp;logName,
                                     java.lang.String&nbsp;appendLogStr,
                                     java.lang.String&nbsp;numDaysStr)
                              throws java.lang.Exception</PRE>
<DL>
<DD>This batch is used to delete temporary data in order to keep your KonaKart store running
 efficiently. It deletes :
 <ul>
 <li>Expired sessions which remain in the sessions table if a customer doesn't log off the
 storefront application.</li>
 <li>KonaKart cookies from the kk_cookie table. These cookie records are used to identify
 temporary returning customers (i.e. returning customers that never registered) so that their
 cart items can be persisted. The associated customers_basket, customers_basket_attributes,
 kk_wishlist, kk_wishlist_item, kk_customers_to_tag records are also deleted.</li>
 <li>Data from the kk_sso table for records older than the number of days passed in as a
 parameter.</li>
 <li>KKEvents more than 4 hours old.</li>
 </ul>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>logName</CODE> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.<DD><CODE>appendLogStr</CODE> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.<DD><CODE>numDaysStr</CODE> - kk_cookie records are deleted if current time - numDays is greater than the date
            when the cookie was last read or actually created (for the case when it has never
            been read).
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTimeInSecs()"><!-- --></A><H3>
getTimeInSecs</H3>
<PRE>
public int <B>getTimeInSecs</B>()</PRE>
<DL>
<DD>Utility method to return the current time in seconds
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Returns the time</DL>
</DD>
</DL>
<HR>

<A NAME="getUnpaidOrders(com.konakart.db.KKCriteria)"><!-- --></A><H3>
getUnpaidOrders</H3>
<PRE>
protected java.util.List&lt;<A HREF="../../../com/konakartadmin/app/AdminOrder.html" title="class in com.konakartadmin.app">AdminOrder</A>&gt; <B>getUnpaidOrders</B>(com.konakart.db.KKCriteria&nbsp;c)
                                              throws java.lang.Exception</PRE>
<DL>
<DD>The method returns null when all of the orders have been read. The caller can stop looping
 when he receives null.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - 
<DT><B>Returns:</B><DD>Returns a list of AdminOrders
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="countCustomersBatch(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
countCustomersBatch</H3>
<PRE>
public void <B>countCustomersBatch</B>(java.lang.String&nbsp;logName,
                                java.lang.String&nbsp;appendLogStr,
                                java.lang.String&nbsp;sessId)
                         throws java.lang.Exception</PRE>
<DL>
<DD>This batch is a simple example that can be used to demonstrate how the ExecuteMultiStoreBatch
 class can be used to execute batch jobs for each store.
 <p>
 It simply counts the number of customers in the store and writes out this number.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>logName</CODE> - The name of the log which shouldn't include the path or extension. i.e. It should
            be myLog rather than /logs/myLog.txt.<DD><CODE>appendLogStr</CODE> - If set to false, a new log will be created every time the batch job is run.
            Otherwise new data will be appended to the existing log. It defaults to false.<DD><CODE>sessId</CODE> - The sessionId. The sessionId is a special parameter defined in the
            konakart_jobs.xml file. If a parameter is defined with value "SESSION_ID",
            KonaKart will replace this value with the sessionId of the logged in session.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/konakartadmin/bl/AdminCurrencyMgr.StaticData.html" title="class in com.konakartadmin.bl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/konakartadmin/bl/AdminCustomerBatchMgr.CustRetList.html" title="class in com.konakartadmin.bl"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/konakartadmin/bl/AdminCustomerBatchMgr.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AdminCustomerBatchMgr.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#fields_inherited_from_class_com.konakartadmin.bl.AdminBatchBaseMgr">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2011 DS Data Systems UK Ltd.
</BODY>
</HTML>
